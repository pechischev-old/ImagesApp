(function(){var k=this;
function m(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"string"==typeof a}function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return r.apply(null,arguments)};var t=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function u(a,b){return a<b?-1:a>b?1:0}function ca(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function da(a){var b=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var ea=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function v(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}v.prototype.clone=function(){return new v(this.x,this.y)};v.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};v.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};v.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function w(a,b){this.width=a;this.height=b}w.prototype.clone=function(){return new w(this.width,this.height)};w.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};w.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};w.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function x(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}x.prototype.clone=function(){return new x(this.left,this.top,this.width,this.height)};x.prototype.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};x.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
x.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function fa(){var a=new x(200,200,250,250);this.b=new w(a.width,a.height);this.a=new v(a.left,a.top)};function ga(){this.a=[]};var y="closure_listenable_"+(1E6*Math.random()|0),ha=0;function ia(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.g=!!d;this.b=e;++ha;this.f=this.h=!1}function A(a){a.f=!0;a.listener=null;a.a=null;a.src=null;a.b=null};function ja(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1};function B(a){this.src=a;this.a={};this.b=0}B.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return ja(this.a,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].g!=b))return!0;return!1})};var C;a:{var D=k.navigator;if(D){var E=D.userAgent;if(E){C=E;break a}}C=""};var F=-1!=C.indexOf("Opera")||-1!=C.indexOf("OPR"),G=-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"),ka=-1!=C.indexOf("Edge"),H=-1!=C.indexOf("Gecko")&&!(-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge"))&&!(-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"))&&-1==C.indexOf("Edge"),I=-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge");function J(){var a=k.document;return a?a.documentMode:void 0}var K;
a:{var L="",M=function(){var a=C;if(H)return/rv\:([^\);]+)(\)|;)/.exec(a);if(ka)return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(I)return/WebKit\/(\S+)/.exec(a);if(F)return/(?:Version)[ \/]?(\S+)/.exec(a)}();M&&(L=M?M[1]:"");if(G){var N=J();if(null!=N&&N>parseFloat(L)){K=String(N);break a}}K=L}var la={};
function O(a){var b;if(!(b=la[a])){b=0;for(var c=t(String(K)).split("."),d=t(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",q=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var p=q.exec(g)||["","",""],z=l.exec(h)||["","",""];if(0==p[0].length&&0==z[0].length)break;b=u(0==p[1].length?0:parseInt(p[1],10),0==z[1].length?0:parseInt(z[1],10))||u(0==p[2].length,0==z[2].length)||u(p[2],z[2])}while(0==b)}b=la[a]=0<=b}return b}
var ma=k.document,na=ma&&G?J()||("CSS1Compat"==ma.compatMode?parseInt(K,10):5):void 0;var oa=!G||9<=Number(na),pa=G&&!O("9");!I||O("528");H&&O("1.9b")||G&&O("8")||F&&O("9.5")||I&&O("528");H&&!O("8")||G&&O("9");function P(a,b){this.type=a;this.a=this.b=b}P.prototype.c=function(){};function Q(a){Q[" "](a);return a}Q[" "]=function(){};function R(a,b){P.call(this,a?a.type:"");this.a=this.b=null;this.clientY=this.clientX=0;this.i=this.state=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.b=a.target||a.srcElement;this.a=b;var d=a.relatedTarget;if(d&&H)try{Q(d.nodeName)}catch(e){}null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.state=
a.state;this.i=a;a.defaultPrevented&&this.c()}}(function(){function a(){}a.prototype=P.prototype;R.a=P.prototype;R.prototype=new a;R.prototype.constructor=R;R.b=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return P.prototype[c].apply(a,e)}})();R.prototype.c=function(){R.a.c.call(this);var a=this.i;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,pa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var S="closure_lm_"+(1E6*Math.random()|0),T={},qa=0;
function ra(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)ra(a,b[f],c,d,e);else if(c=sa(c),a&&a[y])a.a(b,c,d,e);else{f=c;if(!b)throw Error("Invalid event type");c=!!d;var g=U(a);g||(a[S]=g=new B(a));var h=g,q=b.toString(),g=h.a[q];g||(g=h.a[q]=[],h.b++);var l;b:{for(l=0;l<g.length;++l){var p=g[l];if(!p.f&&p.listener==f&&p.g==!!d&&p.b==e)break b}l=-1}-1<l?(d=g[l],d.h=!1):(d=new ia(f,h.src,q,!!d,e),d.h=!1,g.push(d));if(!d.a){e=ta();d.a=e;e.src=a;e.listener=d;if(a.addEventListener)a.addEventListener(b.toString(),
e,c);else if(a.attachEvent)a.attachEvent(ua(b.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");qa++}}}function ta(){var a=va,b=oa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ua(a){return a in T?T[a]:T[a]="on"+a}function wa(a,b,c,d){var e=!0;if(a=U(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.g==c&&!f.f&&(f=xa(f,d),e=e&&!1!==f)}return e}
function xa(a,b){var c=a.listener,d=a.b||a.src;if(a.h&&"number"!=typeof a&&a&&!a.f){var e=a.src;if(e&&e[y])e.b(a);else{var f=a.type,g=a.a;e.removeEventListener?e.removeEventListener(f,g,a.g):e.detachEvent&&e.detachEvent(ua(f),g);qa--;if(f=U(e)){var g=a.type,h;if(h=g in f.a){h=f.a[g];var q=ea(h,a),l;(l=0<=q)&&Array.prototype.splice.call(h,q,1);h=l}h&&(A(a),0==f.a[g].length&&(delete f.a[g],f.b--));0==f.b&&(f.src=null,e[S]=null)}else A(a)}}return c.call(d,b)}
function va(a,b){if(a.f)return!0;if(!oa){var c;if(!(c=b))a:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new R(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(q){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;0<=g;g--){c.a=e[g];var h=wa(e[g],f,!0,c),d=d&&h}for(g=0;g<e.length;g++)c.a=e[g],h=wa(e[g],f,!1,c),
d=d&&h}return d}return xa(a,new R(b,this))}function U(a){a=a[S];return a instanceof B?a:null}var V="__closure_events_fn_"+(1E9*Math.random()>>>0);function sa(a){if("function"==m(a))return a;a[V]||(a[V]=function(b){return a.handleEvent(b)});return a[V]};!H&&!G||G&&9<=Number(na)||H&&O("1.9.1");G&&O("9");function W(a,b,c){if(n(b))(b=ya(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=ya(c,d);f&&(c.style[f]=e)}}var za={};function ya(a,b){var c=za[b];if(!c){var d=ca(b),c=d;void 0===a.style[d]&&(d=(I?"Webkit":H?"Moz":G?"ms":F?"O":null)+da(d),void 0!==a.style[d]&&(c=d));za[b]=c}return c};function Aa(a){this.a=a;console.log(this.a.width+","+this.a.height)};var Ba=new w(1E3,800);function Ca(){var a=document.createDocumentFragment();a.appendChild(Da());a.appendChild(Ea());a.appendChild(Fa(this));document.body.appendChild(a);this.b=[]}function Ea(){var a=document.createElement("INPUT");a.id="imageInput";return a}function Da(){var a=document.createElement("BUTTON");a.id="loading";return a}function Fa(a){a.a=document.createElement("CANVAS");a.a.id="testCanvas";a.a.width=Ba.width;a.a.height=Ba.height;return a.a};function Ga(a){this.b=a;this.c=new Ca}
Ga.prototype.a=function(){var a=new fa;this.b.a.push(a);var b=this.c,c=document.getElementById("testCanvas"),a=new Aa(new x(a.a.x,a.a.y,a.b.width,a.b.height));console.log(a.a.width+","+a.a.height);var d=document.createElement("IMG");d.setAttribute("class","capture");d.setAttribute("src","http://igry-goda.ru/igry-2013/index.files/Luchshie-strelyalki-na-PK-2013-goda.jpg");W(d,"width",a.a.width+"px");W(d,"height",a.a.height+"px");W(d,"top",a.a.top+"px");W(d,"left",a.a.left+"px");c.appendChild(d);console.log(d);
console.log(c);b.b.push(a)};function Ha(){var a=new Ga(new ga);ra(document.body,"click",r(a.a,a))}var X=["Sample","start"],Y=k;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ha?Y[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ha;})();
