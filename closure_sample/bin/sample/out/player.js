(function(){var k=this;
function m(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"string"==typeof a}function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return r.apply(null,arguments)};var t=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function u(a,b){return a<b?-1:a>b?1:0}function ca(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function da(a){var b=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,d){return b+d.toUpperCase()})};var ea=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function v(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}v.prototype.clone=function(){return new v(this.x,this.y)};v.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};v.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};v.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function w(a,b){this.width=a;this.height=b}w.prototype.clone=function(){return new w(this.width,this.height)};w.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};w.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};w.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function x(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e}x.prototype.clone=function(){return new x(this.left,this.top,this.width,this.height)};x.prototype.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};x.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
x.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function fa(){var a=new x(200,200,250,250);this.b=new w(a.width,a.height);this.a=new v(a.left,a.top)};function ga(){this.a=[]};var y="closure_listenable_"+(1E6*Math.random()|0),ha=0;function ia(a,b,c,e,d){this.listener=a;this.a=null;this.src=b;this.type=c;this.g=!!e;this.b=d;++ha;this.f=this.h=!1}function A(a){a.f=!0;a.listener=null;a.a=null;a.src=null;a.b=null};function ja(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1};function B(a){this.src=a;this.a={};this.b=0}B.prototype.hasListener=function(a,b){var c=void 0!==a,e=c?a.toString():"",d=void 0!==b;return ja(this.a,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=e||d&&a[g].g!=b))return!0;return!1})};var C;a:{var D=k.navigator;if(D){var ka=D.userAgent;if(ka){C=ka;break a}}C=""};var E=-1!=C.indexOf("Opera")||-1!=C.indexOf("OPR"),F=-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"),la=-1!=C.indexOf("Edge"),G=-1!=C.indexOf("Gecko")&&!(-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge"))&&!(-1!=C.indexOf("Trident")||-1!=C.indexOf("MSIE"))&&-1==C.indexOf("Edge"),H=-1!=C.toLowerCase().indexOf("webkit")&&-1==C.indexOf("Edge");function ma(){var a=k.document;return a?a.documentMode:void 0}var I;
a:{var J="",K=function(){var a=C;if(G)return/rv\:([^\);]+)(\)|;)/.exec(a);if(la)return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(H)return/WebKit\/(\S+)/.exec(a);if(E)return/(?:Version)[ \/]?(\S+)/.exec(a)}();K&&(J=K?K[1]:"");if(F){var L=ma();if(null!=L&&L>parseFloat(J)){I=String(L);break a}}I=J}var na={};
function M(a){var b;if(!(b=na[a])){b=0;for(var c=t(String(I)).split("."),e=t(String(a)).split("."),d=Math.max(c.length,e.length),f=0;0==b&&f<d;f++){var g=c[f]||"",h=e[f]||"",q=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var p=q.exec(g)||["","",""],z=l.exec(h)||["","",""];if(0==p[0].length&&0==z[0].length)break;b=u(0==p[1].length?0:parseInt(p[1],10),0==z[1].length?0:parseInt(z[1],10))||u(0==p[2].length,0==z[2].length)||u(p[2],z[2])}while(0==b)}b=na[a]=0<=b}return b}
var oa=k.document,pa=oa&&F?ma()||("CSS1Compat"==oa.compatMode?parseInt(I,10):5):void 0;var qa=!F||9<=Number(pa),ra=F&&!M("9");!H||M("528");G&&M("1.9b")||F&&M("8")||E&&M("9.5")||H&&M("528");G&&!M("8")||F&&M("9");function N(a,b){this.type=a;this.a=this.b=b}N.prototype.c=function(){};function O(a){O[" "](a);return a}O[" "]=function(){};function P(a,b){N.call(this,a?a.type:"");this.a=this.b=null;this.clientY=this.clientX=0;this.i=this.state=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.b=a.target||a.srcElement;this.a=b;var e=a.relatedTarget;if(e&&G)try{O(e.nodeName)}catch(d){}null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.state=
a.state;this.i=a;a.defaultPrevented&&this.c()}}(function(){function a(){}a.prototype=N.prototype;P.a=N.prototype;P.prototype=new a;P.prototype.constructor=P;P.b=function(a,c,e){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return N.prototype[c].apply(a,d)}})();P.prototype.c=function(){P.a.c.call(this);var a=this.i;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ra)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Q="closure_lm_"+(1E6*Math.random()|0),R={},sa=0;
function ta(a,b,c,e,d){if("array"==m(b))for(var f=0;f<b.length;f++)ta(a,b[f],c,e,d);else if(c=ua(c),a&&a[y])a.a(b,c,e,d);else{f=c;if(!b)throw Error("Invalid event type");c=!!e;var g=S(a);g||(a[Q]=g=new B(a));var h=g,q=b.toString(),g=h.a[q];g||(g=h.a[q]=[],h.b++);var l;b:{for(l=0;l<g.length;++l){var p=g[l];if(!p.f&&p.listener==f&&p.g==!!e&&p.b==d)break b}l=-1}-1<l?(e=g[l],e.h=!1):(e=new ia(f,h.src,q,!!e,d),e.h=!1,g.push(e));if(!e.a){d=va();e.a=d;d.src=a;d.listener=e;if(a.addEventListener)a.addEventListener(b.toString(),
d,c);else if(a.attachEvent)a.attachEvent(wa(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");sa++}}}function va(){var a=xa,b=qa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function wa(a){return a in R?R[a]:R[a]="on"+a}function ya(a,b,c,e){var d=!0;if(a=S(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.g==c&&!f.f&&(f=za(f,e),d=d&&!1!==f)}return d}
function za(a,b){var c=a.listener,e=a.b||a.src;if(a.h&&"number"!=typeof a&&a&&!a.f){var d=a.src;if(d&&d[y])d.b(a);else{var f=a.type,g=a.a;d.removeEventListener?d.removeEventListener(f,g,a.g):d.detachEvent&&d.detachEvent(wa(f),g);sa--;if(f=S(d)){var g=a.type,h;if(h=g in f.a){h=f.a[g];var q=ea(h,a),l;(l=0<=q)&&Array.prototype.splice.call(h,q,1);h=l}h&&(A(a),0==f.a[g].length&&(delete f.a[g],f.b--));0==f.b&&(f.src=null,d[Q]=null)}else A(a)}}return c.call(e,b)}
function xa(a,b){if(a.f)return!0;if(!qa){var c;if(!(c=b))a:{c=["window","event"];for(var e=k,d;d=c.shift();)if(null!=e[d])e=e[d];else{c=null;break a}c=e}d=c;c=new P(d,this);e=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var f=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(q){f=!0}if(f||void 0==d.returnValue)d.returnValue=!0}d=[];for(f=c.a;f;f=f.parentNode)d.push(f);for(var f=a.type,g=d.length-1;0<=g;g--){c.a=d[g];var h=ya(d[g],f,!0,c),e=e&&h}for(g=0;g<d.length;g++)c.a=d[g],h=ya(d[g],f,!1,c),
e=e&&h}return e}return za(a,new P(b,this))}function S(a){a=a[Q];return a instanceof B?a:null}var T="__closure_events_fn_"+(1E9*Math.random()>>>0);function ua(a){if("function"==m(a))return a;a[T]||(a[T]=function(b){return a.handleEvent(b)});return a[T]};!G&&!F||F&&9<=Number(pa)||G&&M("1.9.1");F&&M("9");function Aa(a){this.b=a;this.a=document.createElement("BUTTON");this.a.setAttribute("class","button");this.a.innerHTML=this.b}function Ba(a,b){a.a.onclick=b};function U(a,b,c){if(n(b))(b=Ca(a,b))&&(a.style[b]=c);else for(var e in b){c=a;var d=b[e],f=Ca(c,e);f&&(c.style[f]=d)}}var Da={};function Ca(a,b){var c=Da[b];if(!c){var e=ca(b),c=e;void 0===a.style[e]&&(e=(H?"Webkit":G?"Moz":F?"ms":E?"O":null)+da(e),void 0!==a.style[e]&&(c=e));Da[b]=c}return c};function Ea(){this.a=document.createElement("DIV");this.a.setAttribute("id","toolbar");this.b=[]}function V(a,b){a.b.push(b);a.a.appendChild(b.a)};function Fa(a){this.a=a}function Ga(a){var b=document.createElement("IMG");b.setAttribute("src","http://igry-goda.ru/igry-2013/index.files/Luchshie-strelyalki-na-PK-2013-goda.jpg");b.setAttribute("class","capture");b.setAttribute("alt","\u0442\u0435\u043a\u0441\u0442");U(b,"width",a.a.width+"px");U(b,"height",a.a.height+"px");U(b,"top",a.a.top+"px");U(b,"left",a.a.left+"px");return b};function Ha(){var a=document.createDocumentFragment();a.appendChild(Ia(this));a.appendChild(Ja());a.appendChild(Ka(this));document.body.appendChild(a);this.c=[]}function Ja(){var a=document.createElement("INPUT");a.id="imageInput";return a}function Ia(a){a.a=new Ea;V(a.a,W("Undo"));V(a.a,W("Redo"));V(a.a,W("Add image"));return a.a.a}function W(a){var b=new Aa(a);Ba(b,function(){console.log(a)});return b}function Ka(a){a.b=document.createElement("DIV");a.b.id="canvas";return a.b};function La(a){this.b=a;this.c=new Ha}La.prototype.a=function(){var a=new fa;this.b.a.push(a);var b=this.c,a=new Fa(new x(a.a.x,a.a.y,a.b.width,a.b.height));b.b.appendChild(Ga(a));b.c.push(a)};function Ma(){var a=new La(new ga);ta(document.body,"click",r(a.a,a))}var X=["Sample","start"],Y=k;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ma?Y[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ma;})();
